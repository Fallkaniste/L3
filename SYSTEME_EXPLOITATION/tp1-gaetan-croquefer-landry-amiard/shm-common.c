#include "shm-common.h"

void showDate()
{
    time_t rawtime;
    struct tm* actualDate;

    time(&rawtime);
    actualDate=localtime(&rawtime);

    printf("%d-%02d-%02d %02d:%02d:%02d: ",1900+actualDate->tm_year, actualDate->tm_mon, actualDate->tm_mday, actualDate->tm_hour, actualDate->tm_min, actualDate->tm_sec);
}

void escroquerie(void* t)
{}

void getKey(char* pathname, int proj_id)
{
  key_t key;
  int sharedMemoryId;
  shm_message_t* shmaddr=NULL;

  key = ftok(pathname, proj_id);
  sharedMemoryId=shmget(key, sizeof(shm_message_t), IPC_CREAT);
  shmaddr=(shm_message_t*)shmat(sharedMemoryId, NULL, 0);
  escroquerie(shmaddr);


  printf("key:%d, id:%d ", key, sharedMemoryId);
}
