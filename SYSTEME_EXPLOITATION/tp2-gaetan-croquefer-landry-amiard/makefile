all: msq-client.out msq-server.out

msq-client.out: msq-client.c msq-message.o msq-common.o
	gcc -std=c89 -pedantic -Wall -Werror -D_GNU_SOURCE -g -o msq-client.out msq-client.c msq-common.o msq-message.o

msq-server.out: msq-server.c msq-common.o
	gcc -std=c89 -pedantic -Wall -Werror -D_GNU_SOURCE -g -o msq-server.out msq-server.c msq-common.o msq-message.o

msq-common.o: msq-common.c
	gcc -std=c89 -pedantic -Wall -Werror -D_GNU_SOURCE -g -c -o msq-common.o msq-common.c

msq-message.o: msq-message.c
	gcc -std=c89 -pedantic -Wall -Werror -D_GNU_SOURCE -g -c -o msq-message.o msq-message.c

clean:
	rm -rf *.o

mrproper:
	rm -rf *.o *.out
