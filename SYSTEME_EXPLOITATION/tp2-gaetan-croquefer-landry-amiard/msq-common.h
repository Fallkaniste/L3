/**
 * \file msq-common.h
 */
#ifndef msq_common_h
#define msq_common_h
/**
 * Inclusions for all the files.
 */
#include <errno.h>
#include <getopt.h>
#include <limits.h>
#include <time.h>
#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <sys/types.h>
#include <sys/ipc.h>
#include <sys/msg.h>
#include <unistd.h>
#include "msq-message.h"
/**
 * Error code thrown when msq_message_set_name detects a message type equal or less than 0.
 */
#define EMSGTYP 134
/**
 * Error code thrown when msq_message_set_text detects a too long message.
 */
#define EMSGTXT 135
/**
 * Error code thrown when stringToLong detects a string that is not a number.
 */
#define ENAN 138
/**
 * Error code thrown when msq-get is unable to return an id from the key.
 */
#define EID 139
/**
 * Error code thrown when stringToLong detects an out of range number.
 */
#define EOOF 140
/**
 * Error code thrown when msq_message_set_type detects an invalid number.
 */
#define EMN 141
/**
 * Error code thrown when getopt_long detects an unknown option.
 */
#define EUO 142
/**
 * Error code thrown when getopt_long detects a missing argument.
 */
#define EMA 143

/**
 * Name of the executable.
 */
extern char* argv0;
/**
 * Prints into the error flow with different parameters depending on the error, and exits.
 * \param nullPtr Always NULL, used as reference for the va_start function.
 * \param ... Variable argument list, composed of :
 *   + argv0 Name of the executable where the error occured.
 *   + __FILE__ File where the error occured.
 *   + __LINE__ Line where the error occured.
 *   + Various arguments to display.
 */
void printError(void* nullPtr, ...);
/**
 * Converts a numerical string to an int.
 * \param optarg The string to convert.
 * \return -1 on error (if the string is not a valid number).
 */
int stringToInt (char* optarg);
/**
 * Converts a numerical string to a long.
 * \param optarg The string to convert.
 * \return -1 on error (if the string is not a valid number).
 */
long stringToLong (char* optarg);
#endif
